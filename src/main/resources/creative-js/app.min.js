function setConnected(n){$("#connect").prop("disabled",n),$("#disconnect").prop("disabled",!n),n?$("#conversation").show():$("#conversation").hide(),$("#userinfo").html("")}function connect(){var n=new SockJS("/user");(stompClient=Stomp.over(n)).connect({},function(n){setConnected(!0),console.log("Connected: "+n),stompClient.subscribe("/user",function(n){showGreeting(JSON.parse(n.body).content)})})}function disconnect(){null!==stompClient&&stompClient.disconnect(),setConnected(!1),console.log("Disconnected")}function sendName(){stompClient.send("/app/user",{},JSON.stringify({name:$("#name").val()}))}function showGreeting(n){$("#userinfo").append("<tr><td>"+n+"</td></tr>")}var stompClient=null;$(function(){$("form").on("submit",function(n){n.preventDefault()}),$("#connect").click(function(){connect()}),$("#disconnect").click(function(){disconnect()}),$("#send").click(function(){sendName()})});